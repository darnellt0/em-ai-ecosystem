module.exports=[52585,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(32860);let e=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var f=a.i(69520),g=a.i(70885);let h=async(a,b)=>{let c=await fetch(`${g.API_BASE}${a}`,{...b,headers:{"Content-Type":"application/json",...b?.headers||{}}});if(!c.ok)throw Error(`Request failed (${c.status})`);return c.json()},i=async(a,b)=>{let c=await fetch(`${g.API_BASE}${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),d=await c.json();if(!c.ok)throw Error(d?.error||d?.message||`Request failed (${c.status})`);return d};function j(){let[a,g]=(0,c.useState)("shria@elevatedmovements.com"),[j]=(0,c.useState)("full"),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)(!1),U=async()=>{try{t(null);let a=await h("/em-ai/exec-admin/growth/status",{cache:"no-store"});v(a)}catch(a){t(a.message)}finally{r(!1)}},V=async()=>{try{z(null);let a=await h("/em-ai/exec-admin/growth/runs");x(a.runs||[])}catch(a){z(a.message)}};(0,c.useEffect)(()=>{U(),V();let a=setInterval(()=>{U(),V()},1e4);return()=>clearInterval(a)},[]);let W=async()=>{l(!0),n(null);try{let b=JSON.stringify({founderEmail:a,mode:j}),c=await h("/em-ai/exec-admin/growth/run",{method:"POST",body:b});p(c),await U()}catch(a){n(a.message)}finally{l(!1)}},X=()=>A||u?.latestRun?.runId||"",Y=async()=>{let a=X();if(!a)return void F("No runId available. Trigger a run first.");H(!0),F(null);try{let b=await h(`/em-ai/exec-admin/growth/runs/${a}/summary`);D(b.summary||null)}catch(a){F(a.message)}finally{H(!1)}},Z=async()=>{let a=X();if(!a)return void L("No runId available. Trigger a run first.");N(!0),L(null);try{let b=await i(`/em-ai/exec-admin/growth/runs/${a}/retry`,{});J(b),await Y()}catch(a){L(a.message)}finally{N(!1)}},$=async()=>{let a=X();if(!a)return void R("No runId available. Trigger a run first.");T(!0),R(null);try{let b=await i(`/em-ai/exec-admin/growth/runs/${a}/finalize`,{});P(b),b.summary&&D(b.summary),await V()}catch(a){R(a.message)}finally{T(!1)}},_=(0,c.useMemo)(()=>{let a=u?.environment||"unknown";return(0,b.jsxs)("span",{className:"rounded-full bg-slate-800 px-3 py-1 text-xs font-semibold text-white/90",children:["Env: ",a]})},[u?.environment]);return(0,b.jsxs)("main",{className:"space-y-8",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-emerald-200/80",children:"Phase 6"}),(0,b.jsx)("h1",{className:"text-3xl font-semibold text-white",children:"Growth Agents Dashboard"}),(0,b.jsx)("p",{className:"text-sm text-white/70",children:"Executive Admin view for Phase 6 Growth Pack"})]}),_]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-black/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Exec Admin Growth Controls"}),(0,b.jsx)("p",{className:"text-sm text-white/70",children:"Trigger the Growth Pack via Exec Admin"})]}),(0,b.jsxs)("button",{onClick:U,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs text-white hover:bg-white/10","aria-label":"Refresh status",children:[(0,b.jsx)(f.RefreshCw,{className:"h-4 w-4"}),"Refresh"]})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm text-white/80",htmlFor:"founderEmail",children:"Founder Email"}),(0,b.jsx)("input",{id:"founderEmail",type:"email",value:a,onChange:a=>g(a.target.value),className:"w-full rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-white placeholder:text-white/50 focus:border-emerald-300 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm text-white/80",children:"Mode"}),(0,b.jsx)("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white/90",children:"full"})]}),(0,b.jsxs)("button",{onClick:W,disabled:k,className:"inline-flex items-center gap-2 rounded-full bg-emerald-400 px-4 py-2 text-sm font-semibold text-slate-900 shadow hover:bg-emerald-300 disabled:cursor-not-allowed disabled:opacity-70",children:[k?"Running…":"Run Growth Pack",(0,b.jsx)(d.ArrowRight,{className:"h-4 w-4"})]}),m&&(0,b.jsxs)("p",{className:"text-sm text-amber-200",children:["Error: ",m]}),o?.success&&(0,b.jsxs)("div",{className:"rounded-lg border border-emerald-300/40 bg-emerald-50/10 p-3 text-sm text-emerald-100",children:[(0,b.jsx)("p",{className:"font-semibold text-emerald-200",children:"Growth pack launched successfully."}),(0,b.jsxs)("p",{className:"mt-1 text-emerald-100/90 text-xs",children:["Agents: ",o.launchedAgents?.join(", ")||"—"]}),(0,b.jsxs)("p",{className:"text-emerald-100/90 text-xs",children:["Job IDs: ",o.jobIds?.join(", ")||"—"]})]})]})]}),(0,b.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-black/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Growth Status"}),(0,b.jsx)("p",{className:"text-sm text-white/70",children:"Health, registry, and recent activity"})]}),(0,b.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/10 px-3 py-1 text-xs text-white",children:u?.success?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e,{className:"h-4 w-4 text-emerald-300"}),"Healthy"]}):"Checking…"})]}),q?(0,b.jsx)("p",{className:"mt-6 text-sm text-white/70",children:"Loading status…"}):s?(0,b.jsxs)("p",{className:"mt-6 text-sm text-amber-200",children:["Error: ",s]}):(0,b.jsxs)("div",{className:"mt-6 space-y-4 text-sm text-white/80",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs",children:["Agents: ",u?.agentRegistryCount??u?.agents?.length??"—"]}),(0,b.jsxs)("span",{className:"rounded-full bg-white/10 px-3 py-1 text-xs",children:["Timestamp: ",u?.timestamp??"—"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Agent Registry"}),(0,b.jsx)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:0===(u?.agents??[]).length?(0,b.jsx)("p",{className:"text-xs text-white/60",children:"No agents reported."}):(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:u?.agents?.map(a=>(0,b.jsx)("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:a},a))})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Recent Progress"}),(0,b.jsx)("div",{className:"max-h-56 overflow-auto rounded-lg border border-white/10 bg-white/5",children:0===(u?.recentProgress??[]).length?(0,b.jsx)("p",{className:"p-3 text-xs text-white/60",children:"No recent progress events."}):(0,b.jsxs)("table",{className:"w-full text-xs",children:[(0,b.jsx)("thead",{className:"bg-white/10 text-white/80",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Agent"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Phase"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Percent"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Note"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Time"})]})}),(0,b.jsx)("tbody",{children:(u?.recentProgress??[]).map((a,c)=>(0,b.jsxs)("tr",{className:"border-t border-white/5",children:[(0,b.jsx)("td",{className:"px-3 py-2",children:a.agent??"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.phase??"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.percent??"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.note??"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.timestamp??"—"})]},c))})]})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Recent Events"}),(0,b.jsx)("div",{className:"max-h-40 overflow-auto rounded-lg border border-white/10 bg-white/5",children:0===(u?.recentEvents??[]).length?(0,b.jsx)("p",{className:"p-3 text-xs text-white/60",children:"No recent events."}):(0,b.jsxs)("table",{className:"w-full text-xs",children:[(0,b.jsx)("thead",{className:"bg-white/10 text-white/80",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Agent"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Kind"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Time"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Payload"})]})}),(0,b.jsx)("tbody",{children:(u?.recentEvents??[]).map((a,c)=>(0,b.jsxs)("tr",{className:"border-t border-white/5",children:[(0,b.jsx)("td",{className:"px-3 py-2",children:a.agent??"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.kind??"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.timestamp??"—"}),(0,b.jsx)("td",{className:"px-3 py-2 truncate",children:a.payload??"—"})]},c))})]})})]})]})]})]}),(0,b.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-black/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Recent Runs"}),(0,b.jsx)("p",{className:"text-sm text-white/70",children:"Newest first"})]}),(0,b.jsxs)("button",{onClick:V,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs text-white hover:bg-white/10",children:[(0,b.jsx)(f.RefreshCw,{className:"h-4 w-4"})," Refresh"]})]}),y&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-amber-200",children:["Error: ",y]}),(0,b.jsx)("div",{className:"mt-4 space-y-2 text-sm text-white/80",children:0===w.length?(0,b.jsx)("p",{className:"text-white/70",children:"No runs yet."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-xs text-white/80",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/10",children:[(0,b.jsx)("th",{className:"px-2 py-2",children:"Run ID"}),(0,b.jsx)("th",{className:"px-2 py-2",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-2",children:"Started"}),(0,b.jsx)("th",{className:"px-2 py-2",children:"Finished"})]})}),(0,b.jsx)("tbody",{children:w.map(a=>(0,b.jsxs)("tr",{className:"border-b border-white/5",children:[(0,b.jsx)("td",{className:"px-2 py-2 break-all",children:a.runId}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.status}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.startedAt}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.finishedAt||"—"})]},a.runId))})]})})})]}),(0,b.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-black/20 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Run Summary & Retry"}),(0,b.jsx)("p",{className:"text-sm text-white/70",children:"Load summary for a run and retry failed agents (if enabled)."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:Y,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs text-white hover:bg-white/10",children:[(0,b.jsx)(f.RefreshCw,{className:"h-4 w-4"}),G?"Loading…":"Load Summary"]}),(0,b.jsx)("button",{onClick:$,disabled:S,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs text-white hover:bg-white/10 disabled:opacity-60",children:S?"Finalizing…":"Finalize Now"})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm text-white/80",children:"Run ID"}),(0,b.jsx)("input",{className:"w-full rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-white placeholder:text-white/50 focus:border-emerald-300 focus:outline-none",value:A,onChange:a=>B(a.target.value),placeholder:u?.latestRun?.runId||"latest runId"}),(0,b.jsxs)("p",{className:"text-xs text-white/60",children:["Latest runId: ",u?.latestRun?.runId||"n/a"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm text-white/80",children:"Retry Failed Agents"}),(0,b.jsxs)("button",{onClick:Z,disabled:M,className:"inline-flex items-center gap-2 rounded-full bg-emerald-400 px-4 py-2 text-sm font-semibold text-slate-900 shadow hover:bg-emerald-300 disabled:cursor-not-allowed disabled:opacity-70",children:[M?"Retrying…":"Retry Failed Agents",(0,b.jsx)(d.ArrowRight,{className:"h-4 w-4"})]}),K&&(0,b.jsx)("p",{className:"text-sm text-amber-200",children:K}),I&&(0,b.jsx)("pre",{className:"whitespace-pre-wrap break-words text-[11px] text-white/90",children:JSON.stringify(I,null,2)}),Q&&(0,b.jsx)("p",{className:"text-sm text-amber-200",children:Q}),O&&(0,b.jsx)("pre",{className:"whitespace-pre-wrap break-words text-[11px] text-white/90",children:JSON.stringify(O,null,2)})]})]}),E&&(0,b.jsxs)("p",{className:"text-sm text-amber-200",children:["Error: ",E]}),C?(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3 text-sm text-white/80",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[(0,b.jsx)("p",{className:"font-semibold text-white",children:"Agents"}),(0,b.jsxs)("p",{children:["Total: ",C.agents?.total??0]}),(0,b.jsxs)("p",{children:["Completed: ",(C.agents?.completed||[]).join(", ")||"—"]}),(0,b.jsxs)("p",{children:["Failed: ",(C.agents?.failed||[]).join(", ")||"—"]}),(0,b.jsxs)("p",{children:["Running: ",(C.agents?.running||[]).join(", ")||"—"]}),(0,b.jsxs)("p",{children:["Queued: ",(C.agents?.queued||[]).join(", ")||"—"]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[(0,b.jsx)("p",{className:"font-semibold text-white",children:"Latest Progress"}),(0,b.jsxs)("ul",{className:"space-y-1",children:[(C.progress?.latest||[]).map((a,c)=>(0,b.jsxs)("li",{children:["[",a.agent,"] ",a.percent??"?","% ",a.note||""]},c)),(!C.progress?.latest||0===C.progress.latest.length)&&(0,b.jsx)("li",{className:"text-white/60",children:"No progress yet."})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[(0,b.jsx)("p",{className:"font-semibold text-white",children:"Latest Events"}),(0,b.jsxs)("ul",{className:"space-y-1",children:[(C.events?.latest||[]).map((a,c)=>(0,b.jsxs)("li",{children:["[",a.agent,"] ",a.kind||"event"]},c)),(!C.events?.latest||0===C.events.latest.length)&&(0,b.jsx)("li",{className:"text-white/60",children:"No events yet."})]})]})]}):(0,b.jsx)("p",{className:"text-white/60 text-sm",children:"No summary loaded yet."})]})]})}a.s(["default",()=>j],52585)}];

//# sourceMappingURL=packages_dashboard_app_agents_growth_page_tsx_26a234d8._.js.map