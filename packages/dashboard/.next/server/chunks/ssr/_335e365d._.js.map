{"version":3,"sources":["../../../../../../packages/dashboard/lib/apiClient.ts","../../../../../../packages/dashboard/lib/emAiAgents.ts"],"sourcesContent":["const RAW_API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:4000';\n\nexport const API_BASE = RAW_API_BASE.replace(/\\/$/, '');\n\nexport async function fetchJson<T>(path: string, init?: RequestInit): Promise<T> {\n  const res = await fetch(`${API_BASE}${path}`, {\n    ...init,\n    headers: {\n      'Content-Type': 'application/json',\n      ...(init?.headers || {}),\n    },\n    cache: 'no-store',\n  });\n\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`Request failed (${res.status}) ${text}`);\n  }\n\n  return res.json();\n}\n","import { API_BASE, fetchJson } from '@/lib/apiClient';\nimport { AgentConfig } from '@/types/emAiAgents';\n\nexport async function getAgents(): Promise<AgentConfig[]> {\n  const data = await fetchJson<{ agents: AgentConfig[] }>('/em-ai/agents');\n  return data.agents;\n}\n\nexport async function getAgent(agentId: string): Promise<AgentConfig> {\n  const res = await fetch(`${API_BASE}/em-ai/agents/${agentId}`, {\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    cache: 'no-store',\r\n  });\r\n\r\n  if (res.status === 404) {\r\n    throw new Error('NOT_FOUND');\r\n  }\r\n\r\n  if (!res.ok) {\r\n    throw new Error(`Failed to load agent (${res.status})`);\r\n  }\r\n\r\n  const data = (await res.json()) as { agent: AgentConfig };\r\n  return data.agent;\r\n}\r\n"],"names":[],"mappings":"yMAEO,IAAM,EAAW,CAFH,QAAQ,GAAG,CAAC,wBAAwB,EAAI,uBAAA,EAExB,OAAO,CAAC,MAAO,IAE7C,eAAe,EAAa,CAAY,CAAE,CAAkB,EACjE,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,EAAA,EAAW,EAAA,CAAM,CAAE,CAC5C,GAAG,CAAI,CACP,QAAS,CACP,eAAgB,mBAChB,GAAI,GAAM,SAAW,CAAC,CACxB,AADyB,EAEzB,MAAO,UACT,GAEA,GAAI,CAAC,EAAI,EAAE,CAAE,CACX,IAAM,EAAO,MAAM,EAAI,IAAI,EAC3B,OAAM,AAAI,MAAM,CAAC,gBAAgB,EAAE,EAAI,MAAM,CAAC,EAAE,EAAE,EAAA,CAAM,CAC1D,CAEA,OAAO,EAAI,IAAI,EACjB,CCjBO,eAAe,IAEpB,MAAO,CADM,MAAM,EAAqC,gBAAA,EAC5C,MAAM,AACpB,CAEO,eAAe,EAAS,CAAe,EAC5C,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,EAAS,cAAc,EAAE,EAAA,CAAS,CAAE,CAC7D,QAAS,CACP,eAAgB,kBAClB,EACA,MAAO,UACT,GAEA,GAAI,AAAe,KAAK,GAAhB,MAAM,CACZ,MAAM,AAAI,MAAM,aAGlB,GAAI,CAAC,EAAI,EAAE,CACT,CADW,KACL,AAAI,MAAM,CAAC,sBAAsB,EAAE,EAAI,MAAM,CAAC,CAAC,CAAC,EAIxD,MAAO,CADO,MAAM,EAAI,IAAI,EAAA,EAChB,KAAK,AACnB"}