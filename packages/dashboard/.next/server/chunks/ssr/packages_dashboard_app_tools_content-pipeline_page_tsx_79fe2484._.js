module.exports=[13727,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=process.env.NEXT_PUBLIC_API_BASE_URL||"";async function e(a,b){let c=await fetch(`${d}${a}`,{...b,headers:{"Content-Type":"application/json",...b?.headers||{}}});if(!c.ok)throw Error(`Request failed: ${c.status}`);return c.json()}function f(){let[a,d]=(0,c.useState)("darnell"),[f,g]=(0,c.useState)("Elevated Movements strengths story"),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),r=async()=>{try{q(null);let a=await e("/api/content/packs");k(a.packs||[])}catch(a){q(a.message)}};(0,c.useEffect)(()=>{r()},[]);let s=async()=>{o(!0),q(null);try{await e("/api/content/packs/generate",{method:"POST",body:JSON.stringify({userId:a,topic:f,includeP0:h})}),await r()}catch(a){q(a.message)}finally{o(!1)}},t=async a=>{try{let b=await e(`/api/content/packs/${a}`);m(b.pack)}catch(a){q(a.message)}};return(0,b.jsxs)("main",{className:"p-6 space-y-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Content Pipeline (PLAN-only)"}),p&&(0,b.jsx)("div",{className:"text-red-600",children:p}),(0,b.jsxs)("section",{className:"space-y-3 border p-4 rounded-md",children:[(0,b.jsx)("h2",{className:"font-semibold",children:"Generate Pack"}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("input",{className:"border p-2",value:a,onChange:a=>d(a.target.value),placeholder:"userId"}),(0,b.jsx)("input",{className:"border p-2",value:f,onChange:a=>g(a.target.value),placeholder:"topic"}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:h,onChange:a=>i(a.target.checked)}),"Include P0 Daily Focus"]}),(0,b.jsx)("button",{className:"bg-blue-600 text-white px-3 py-2 rounded",onClick:s,disabled:n,children:n?"Generating...":"Generate Pack"})]})]}),(0,b.jsxs)("section",{className:"space-y-3 border p-4 rounded-md",children:[(0,b.jsx)("h2",{className:"font-semibold",children:"Existing Packs"}),(0,b.jsx)("button",{className:"underline text-blue-600",onClick:r,children:"Refresh"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left",children:"PackId"}),(0,b.jsx)("th",{className:"text-left",children:"Created"}),(0,b.jsx)("th",{className:"text-left",children:"Topic"}),(0,b.jsx)("th",{className:"text-left",children:"Status"})]})}),(0,b.jsxs)("tbody",{children:[j.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-100 cursor-pointer",onClick:()=>t(a.packId),children:[(0,b.jsx)("td",{children:a.packId}),(0,b.jsx)("td",{children:a.createdAt}),(0,b.jsx)("td",{children:a.topic}),(0,b.jsx)("td",{children:a.status})]},a.packId)),0===j.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"text-gray-500",children:"No packs yet."})})]})]})})]}),l&&(0,b.jsxs)("section",{className:"space-y-3 border p-4 rounded-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"font-semibold",children:["Pack Detail: ",l.packId]}),(0,b.jsx)("button",{className:"underline",onClick:()=>{if(!l)return;let a=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`${l.packId}.json`,c.click(),URL.revokeObjectURL(b)},children:"Download JSON"})]}),(0,b.jsxs)("div",{className:"text-sm",children:["Topic: ",l.topic]}),(0,b.jsxs)("div",{className:"text-sm",children:["Status: ",l.status]}),(0,b.jsxs)("div",{className:"text-sm",children:["Planned Actions: ",l.plannedActionIds?.length||0]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Assets"}),l.assets?.map(a=>(0,b.jsxs)("div",{className:"border p-2 rounded",children:[(0,b.jsx)("div",{className:"text-xs uppercase text-gray-500",children:a.channel}),(0,b.jsx)("div",{className:"font-semibold",children:a.title}),(0,b.jsx)("pre",{className:"whitespace-pre-wrap text-xs",children:a.body})]},a.id))]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=packages_dashboard_app_tools_content-pipeline_page_tsx_79fe2484._.js.map