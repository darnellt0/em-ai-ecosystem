module.exports=[70885,a=>{"use strict";let b=(process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000").replace(/\/$/,"");a.s(["API_BASE",0,b])},24472,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70885);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(null),j=async()=>{g(!0);try{let a=await fetch(`${d.API_BASE}/api/actions/pending`),b=await a.json();e(b.actions||[])}catch(a){i(a.message)}finally{g(!1)}};(0,c.useEffect)(()=>{j()},[]);let k=async a=>{i(null),await fetch(`${d.API_BASE}/api/actions/${a}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:"operator"})}),j()},l=async(a,b)=>{i(null);let c=await fetch(`${d.API_BASE}/api/actions/${a}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:b})}),e=await c.json();i(`Receipt: ${e.receipt?.status||"unknown"}`),j()};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50 p-6 space-y-4",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Action Console"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Approve and execute planned actions. EXECUTE is gated by feature flags."}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h2",{className:"font-semibold",children:"Pending Actions"}),(0,b.jsx)("button",{className:"px-3 py-1 text-sm bg-slate-800 text-white rounded",onClick:j,disabled:f,children:"Refresh"})]}),f&&(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Loading..."}),!f&&0===a.length&&(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"No pending actions."}),(0,b.jsx)("ul",{className:"divide-y divide-slate-200",children:a.map(a=>(0,b.jsx)("li",{className:"py-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.type}),(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["ID: ",a.id]}),(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Status: ",a.status]}),a.requiresApproval&&(0,b.jsx)("p",{className:"text-xs text-amber-600",children:"Requires approval"})]}),(0,b.jsxs)("div",{className:"space-x-2",children:[a.requiresApproval&&(0,b.jsx)("button",{className:"px-3 py-1 text-xs bg-amber-500 text-white rounded",onClick:()=>k(a.id),children:"Approve"}),(0,b.jsx)("button",{className:"px-3 py-1 text-xs bg-slate-700 text-white rounded",onClick:()=>l(a.id,"PLAN"),children:"Execute (PLAN)"}),(0,b.jsx)("button",{className:"px-3 py-1 text-xs bg-slate-300 text-slate-800 rounded",disabled:!0,children:"Execute (EXECUTE)"})]})]})},a.id))})]}),h&&(0,b.jsxs)("div",{className:"text-sm text-slate-700",children:[" ",h," "]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=packages_dashboard_c21ba974._.js.map