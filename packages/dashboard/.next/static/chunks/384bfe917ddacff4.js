(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95385,e=>{"use strict";let t=(e.i(47167).default.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000").replace(/\/$/,"");e.s(["API_BASE",0,t])},50455,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(95385);function r({agent:e}){let[r,l]=(0,a.useState)(()=>e.inputSchema.reduce((e,t)=>(e[t.id]=function(e){if(void 0!==e.defaultValue)return e.defaultValue;switch(e.type){case"multi-select":return[];case"boolean":return!1;default:return""}}(t),e),{})),[i,n]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[u,o]=(0,a.useState)(null),h=(0,a.useMemo)(()=>`${s.API_BASE}/em-ai/agents/${e.id}/run`,[e.id]);function x(e,t){l(a=>({...a,[e.id]:t}))}async function m(e){e.preventDefault(),o(null),c(null),n(!0);try{let e=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:r})});if(!e.ok){let t=await e.text();throw Error(t||"Agent run failed")}let t=await e.json(),a=t?.result?.outputText??JSON.stringify(t,null,2);c(a)}catch(e){o(e instanceof Error?e.message:"Unknown error running agent")}finally{n(!1)}}return(0,t.jsxs)("form",{onSubmit:m,className:"grid gap-8 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.85fr)]",children:[(0,t.jsxs)("div",{className:"space-y-6 rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-white/50",children:"Input"}),(0,t.jsx)("h3",{className:"mt-1 text-2xl font-semibold text-white",children:"Personalize the agent"})]}),(0,t.jsxs)("span",{className:"rounded-full border border-white/20 px-4 py-1 text-xs uppercase tracking-[0.2em] text-white/70",children:[e.inputSchema.length," fields"]})]}),(0,t.jsx)("div",{className:"space-y-5",children:e.inputSchema.map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("label",{htmlFor:e.id,className:"text-white",children:e.label}),e.required&&(0,t.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-rose-200",children:"Required"})]}),function(e){let a="w-full rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-white focus:border-emerald-300/70 focus:outline-none focus:ring-0";switch(e.type){case"textarea":return(0,t.jsx)("textarea",{id:e.id,name:e.id,required:e.required,placeholder:e.placeholder,className:`${a} min-h-[120px] resize-y`,value:r[e.id]??"",onChange:t=>x(e,t.target.value)});case"select":return(0,t.jsxs)("select",{id:e.id,name:e.id,required:e.required,className:`${a} bg-[#050608]`,value:r[e.id]??"",onChange:t=>x(e,t.target.value),children:[(0,t.jsx)("option",{value:"",disabled:!0,children:e.placeholder||"Select an option"}),(e.options||[]).map(e=>(0,t.jsx)("option",{value:e.value,className:"bg-[#050608] text-black",children:e.label},e.value))]});case"multi-select":return(0,t.jsx)("select",{id:e.id,name:e.id,multiple:!0,className:`${a} bg-[#050608]`,value:r[e.id]??[],onChange:t=>x(e,Array.from(t.target.selectedOptions).map(e=>e.value)),children:(e.options||[]).map(e=>(0,t.jsx)("option",{value:e.value,className:"bg-[#050608] text-black",children:e.label},e.value))});case"number":return(0,t.jsx)("input",{id:e.id,name:e.id,type:"number",required:e.required,placeholder:e.placeholder,className:a,value:r[e.id]??"",onChange:t=>x(e,""===t.target.value?"":Number(t.target.value))});case"boolean":return(0,t.jsxs)("label",{className:"inline-flex items-center gap-3 text-white/80",children:[(0,t.jsx)("input",{id:e.id,name:e.id,type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent text-emerald-300 focus:ring-emerald-500",checked:!!r[e.id],onChange:t=>x(e,t.target.checked)}),(0,t.jsx)("span",{children:e.placeholder||"Yes"})]});default:return(0,t.jsx)("input",{id:e.id,name:e.id,type:"text",required:e.required,placeholder:e.placeholder,className:a,value:r[e.id]??"",onChange:t=>x(e,t.target.value)})}}(e),e.helperText&&(0,t.jsx)("p",{className:"text-xs text-white/60",children:e.helperText})]},e.id))}),(0,t.jsx)("button",{type:"submit",disabled:i,className:"mt-4 inline-flex w-full items-center justify-center rounded-xl bg-emerald-400/90 px-4 py-3 text-lg font-semibold text-black transition hover:bg-emerald-300 disabled:cursor-not-allowed disabled:bg-white/30",children:i?"Running…":"Run Agent"}),u&&(0,t.jsx)("p",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:u})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-white/50",children:"Output"}),(0,t.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Results"}),(0,t.jsxs)("div",{className:"min-h-[240px] rounded-xl border border-white/5 bg-black/40 p-4 text-sm text-white/80",children:[i&&(0,t.jsxs)("p",{className:"text-white/60",children:["Running ",e.name,"…"]}),!i&&d&&(0,t.jsx)("pre",{className:"whitespace-pre-wrap text-white",children:d}),!i&&!d&&(0,t.jsxs)("p",{className:"text-white/50",children:["Run ",e.name," to see results here."]})]})]})]})}e.s(["AgentRunner",()=>r])}]);