(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95385,e=>{"use strict";let t=(e.i(47167).default.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000").replace(/\/$/,"");e.s(["API_BASE",0,t])},30207,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(95385);function i(){let[e,i]=(0,s.useState)([]),[l,n]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),r=async()=>{n(!0);try{let e=await fetch(`${a.API_BASE}/api/actions/pending`),t=await e.json();i(t.actions||[])}catch(e){d(e.message)}finally{n(!1)}};(0,s.useEffect)(()=>{r()},[]);let x=async e=>{d(null),await fetch(`${a.API_BASE}/api/actions/${e}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:"operator"})}),r()},o=async(e,t)=>{d(null);let s=await fetch(`${a.API_BASE}/api/actions/${e}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:t})}),i=await s.json();d(`Receipt: ${i.receipt?.status||"unknown"}`),r()};return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50 p-6 space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Action Console"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Approve and execute planned actions. EXECUTE is gated by feature flags."}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Pending Actions"}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-slate-800 text-white rounded",onClick:r,disabled:l,children:"Refresh"})]}),l&&(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Loading..."}),!l&&0===e.length&&(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"No pending actions."}),(0,t.jsx)("ul",{className:"divide-y divide-slate-200",children:e.map(e=>(0,t.jsx)("li",{className:"py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.type}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["ID: ",e.id]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Status: ",e.status]}),e.requiresApproval&&(0,t.jsx)("p",{className:"text-xs text-amber-600",children:"Requires approval"})]}),(0,t.jsxs)("div",{className:"space-x-2",children:[e.requiresApproval&&(0,t.jsx)("button",{className:"px-3 py-1 text-xs bg-amber-500 text-white rounded",onClick:()=>x(e.id),children:"Approve"}),(0,t.jsx)("button",{className:"px-3 py-1 text-xs bg-slate-700 text-white rounded",onClick:()=>o(e.id,"PLAN"),children:"Execute (PLAN)"}),(0,t.jsx)("button",{className:"px-3 py-1 text-xs bg-slate-300 text-slate-800 rounded",disabled:!0,children:"Execute (EXECUTE)"})]})]})},e.id))})]}),c&&(0,t.jsxs)("div",{className:"text-sm text-slate-700",children:[" ",c," "]})]})}e.s(["default",()=>i])}]);